# Создание датасета

Для создания будет использован плин ниже для генерации датасета.

## План создания

1. Открываем любую нейросеть
**Note:**
Рекомендуется использовать [Qwen](https://chat.qwen.ai/)
Версия Qwen3-Max
Использовать `Thinking`, если модель поддерживает этот функционал

2. Создает 2 чата:
- Генерация ситуаций - [промтп](./prompts/txt/generate_conflict.txt)
- Преобразование в record - [промтп](./prompts/txt/to_record.txt)

**Note:**
record - единичная записиь в датасете

3. Создаем файл `conflict_situations_(время создания).json`

**Note:**
Корневой тип - массив

Пример:
```json
[ <- Массив
    {
        ...
    },
    {
        ...
    },
] <- Массив
```

4. Вставляем запись в этот массив

# Параметры записи

1. JSON формат
2. Структура одной записи json прописана в [этом файле](./.templates/record.json)

[Пример](./.example/record_example.json) заполненной записи

# Добавление записей

Каждый отдельный фрагмент датасета должен быть в отдельном файле и в формате `json`

В отдельном файле содержится лишь часть записей: ~25 штук

Рекомендованное название для записей: `conflict_situations_(время создания).json`

**Note:**
- Каждая запись должна быть проверена в ручную. Очевидные ошибки/несоответствия должны быть исправлены
- Поле `instruction` во всех кейсах должно быть пустым, т.к. сама инструкция длинная. Нету смысла её добавлять в отдельные части записей


# Создания датасета

Полный готовый датасет будет соединяться в 1 большой готовый файл путем объединения всех остальных частей

Необходимый код для соедиянения датасета находится в [src](./src/)

Необходимо создать [.env](./.templates/.env.template) файл для корректной работы основного кода.
В нем указаны переменные для обозначения всех параметров, которые используются в коде.
К примеру: папка с исходными данными, выходной файл, инструкция и т.п.

Команды для создания датасета:

1. Переходим в папку `src`

```bash
cd src
```

2. Запускаем [main](./src/main.py) файл через питон

```bash
python3 main.py
```

**Note:**
Пути, в файле `.env` должны быть отностельны файла `main.py`

# Дополнительно

## [to_txt](./src/to_txt.py)

Коонфертирует файлы из [папки с md файлами](./prompts/md/) в файлы с расгирением `txt` в [папку с txt файлами](./prompts/txt/)

## Создание контекста

[Prompt](./prompts/md/generate_context.md)

Создает 10 разных контекстов для генерации ситуации